Potlatch 2: main outstanding issues
-----------------------------------

== Core geometry ==

* purgeOutside simply doesn't work - WayUIs stay around. To investigate
* Some combination of zoom / pan / purge leaves a copy of the selected WayUI around
* P1-style J (join) / shift-J (unjoin)
* Make parallelise properly undoable

== Vector background layers ==

* Pass in via URL parameter
* Load from local file (Flash Player 10 only)
* TagTransform (cf http://wiki.openstreetmap.org/wiki/Osmosis/TagTransform)
* Connectivity isn't preserved when bringing ways through (e.g. from OSM layer)
* Alt-click on lines from GPX appears to prevent anything from being selected.
* z-ordering - areas in editing layer prevent background layers from being clicked.

== Tag editing ==

* initialiseEditors is quite slow (typically 150ms)
* Bug where the wrong feature is used, when an item that is dragged from the list when an POI has no icon.
* Can't use + for second tag
* Tag panel jumps up and down when number spinner is used on bike parking
* New relation panel jumps up and down, but I haven't seen it on editing existing relations
* Changing relation ref doesn't update the main tagviewer until the entity is reselected
* Changing type of relation doesn't update the main tagviewer until the entity is reselected
* Adding a relation via the advanced panel doesn't update the simple panel
* 'Select relation' panel doesn't indicate that the list is being filtered (e.g. simple -> add to a route)
* Checkbox needs a clear button, or to be changed to a ✓✗? triplet


== UI ==

* Failing to parse map_features should be an error state
* Escape should rewind the entity to how it was before the current ControllerState. (Record a position in the undo stack when exiting a ControllerState, and escape would rewind to that)
* Potlatch 1-style "floaty warnings"
* Custom imagery dialog fixes
* Ctrl-clicking two areas (one inside the other) should create a multipolygon
* B keypress for background source tag
* Multiple selection
* Options should be remembered via SharedObjects
* small node hitzone when creating areas - hitzone and mouseover UI don't match up
* GPS loading should have a loading... label
* Pressing undo/redo sometimes doesn't change controllerstate. (e.g. create POI + undo leaves the tag panel still referring to POI)
* Deleting a way doesn't update the junction highlighting on the remaining junctions
* Deleting a way also deletes POIs without warning (ooh, look I found a modal dialog in p1. Do I win a prize? :-) )

== Rendering (Halcyon) ==

* halcyon_viewer needs updating for new tileurl stuff
* Shields
* More line decoration (cliffs etc.), and implied values for 'dashes' if not supplied
* MapCSS 0.2 support - see http://osm.kosmosnimki.ru/?zoom=13&lat=53.89722&lon=27.58215&layers=B00 and http://code.google.com/p/kothic/source/browse/src/styles/osmosnimki-maps.mapcss
* .gz support for OSMConnection
* Multipolygon rendering for dashedLine, lineDecoration, and WayBitmapFiller
* Multipolygons should take their tags from the relation, not the way

== Other ==
* should have build numbers available somehow

== MyGPX ==

* Combine two GPX buttons
* Shouldn't refetch just when opening dialog
* Make the connection, not the savemanager, in charge of sorting out the oauth stuff?
* Ensure the oauth dialog pops up if there's no oauth credentials
* Rework the loading text
* Have a remove button for removing loaded traces
* Have a check button for simplifying traces

Requested enhancements
----------------------

== Other core ==

* Non-900913 projections
* Plugin support
* Support undo / redo across saving events

== Tag editing ==

* Ability to specify that a node should be a point in a way, for example for crossings
* Ability to say that it's unlikely/impossible to have a way that is a bridge and a tunnel at the same time.
* Dynamic reloading of stylesheet/map_features, so that you don't need to reload the full page when editing them
* The area of pois for dragging on to the map should have a search, with synonyms.
* If you have both inputSets names and buildingAddress, and name= key is filled in then the basic tab will get both, surely only name should be shown and building name should be ignored e.g. cafes. [Actually this was an issue of addr: being missing from one of them, however this may still be a problem for other overlapping inputSets]

== Turn restrictions ==

* Splitting a way should have smart turn restriction behaviour - i.e. only retain the relation in that part of the way which joins the via point.

== UI ==

* Mouse wheel zooming
* Bbox-sensitive menu for background imagery
* CSS editing
* Quick-search on add-relations-to-way dialog (RelationSelectPanel)
* i18n

== Rendering (Halcyon) ==

* 'Light' version without vectorlayer support etc.
