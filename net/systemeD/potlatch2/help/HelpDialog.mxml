<?xml version="1.0" encoding="utf-8"?>
<mx:TitleWindow
        xmlns:mx="http://www.adobe.com/2006/mxml" 
        layout="vertical" showCloseButton="true"
        horizontalAlign="center" title="Welcome to Potlatch2 for [Website]"
        width="550" height="350"
        verticalGap="0">
  <mx:Script><![CDATA[
    import mx.managers.PopUpManager;
    import mx.events.CloseEvent;
    import mx.core.Application;
    
    public function init():void {
        PopUpManager.addPopUp(this, Application(Application.application), true);
        PopUpManager.centerPopUp(this);
        this.addEventListener(CloseEvent.CLOSE, helpDialog_close);

        // store whether the user has seen the help dialog before
        var obj:SharedObject = SharedObject.getLocal("user_state");
        obj.setProperty("help_shown","true");
    }
    
    private function helpDialog_close(evt:CloseEvent):void {
        PopUpManager.removePopUp(this);
    }

              ]]>
  </mx:Script>
  <mx:TabNavigator id="helpTN" width="100%" height="100%">
    <mx:VBox label="Welcome" width="100%" height="100%">
      <mx:Text condenseWhite="true" width="100%" height="100%">
        <mx:htmlText>
          <![CDATA[
            <p><b>Potlatch 2</b> is an OpenStreetMap (OSM) editor that allows you to make edits directly through the [Website] website.</p>
            <p><b>Why OpenStreetMap?</b> OSM is a mapping service in which all data is constantly updated and edited by everyday people like you. The obvious benefit is that it's free to use, but it has also become a major player in crisis mapping (i.e. use of OSM data to coordinate earthquake relief efforts in Haiti). Accuracy of this data is critical, and we hope you are able to volunteer some of your time!</p>
            <p> * * * </p>
            <h1>Getting Started</h1>
            <p><b>+ For active OpenStreetMap members</b>, please sign in to OSM before editing</b></p>
            <p><b>+ For new members</b>, please visit <a href="http://www.openstreetmap.org/">http://www.openstreetmap.org</a> to create an account, log in, then return here.</p>
          ]]>
        </mx:htmlText>
      </mx:Text>
    </mx:VBox>
    <mx:VBox label="Controls" width="100%" height="100%">
      <mx:Label text="Interface Controls" />
      <mx:Grid width="100%">
        <mx:GridRow width="100%">
          <mx:GridItem>
            <mx:Label text="Background" styleName="helpHeaderText" />
          </mx:GridItem>
          <mx:GridItem width="100%">
            <mx:Text condenseWhite="true" width="100%">
              <mx:htmlText>
                <![CDATA[
                  <p>Choose your map background from one of the items in the list or add your own vector file.</p>
                ]]>
              </mx:htmlText>
            </mx:Text>
          </mx:GridItem>
        </mx:GridRow>
        <mx:GridRow width="100%">
          <mx:GridItem>
            <mx:Label text="MapStyle" styleName="helpHeaderText" />
          </mx:GridItem>
          <mx:GridItem width="100%">
            <mx:Text condenseWhite="true" width="100%">
              <mx:htmlText>
                <![CDATA[
                  <p>Choose the style in which you wish to view the map. Colours and overall style vary and also includes other options like wireframe.</p>
                ]]>
              </mx:htmlText>
            </mx:Text>
          </mx:GridItem>
        </mx:GridRow>
        <mx:GridRow width="100%">
          <mx:GridItem>
            <mx:Label text="GPS" styleName="helpHeaderText" />
          </mx:GridItem>
          <mx:GridItem width="100%">
            <mx:Text condenseWhite="true" width="100%">
              <mx:htmlText>
                <![CDATA[
                  <p>Create OSM map data from a GPS track you upload.</p>
                ]]>
              </mx:htmlText>
            </mx:Text>
          </mx:GridItem>
        </mx:GridRow>
        <mx:GridRow width="100%">
          <mx:GridItem>
            <mx:Label text="Undo / Redo" styleName="helpHeaderText" />
          </mx:GridItem>
          <mx:GridItem width="100%">
            <mx:Text condenseWhite="true" width="100%">
              <mx:htmlText>
                <![CDATA[
                  <p>Made a mistake? Just hit undo and/or redo to correct your edits.</p>
                ]]>
              </mx:htmlText>
            </mx:Text>
          </mx:GridItem>
        </mx:GridRow>
        <mx:GridRow width="100%">
          <mx:GridItem>
            <mx:Label text="Help" styleName="helpHeaderText" />
          </mx:GridItem>
          <mx:GridItem width="100%">
            <mx:Text condenseWhite="true" width="100%">
              <mx:htmlText>
                <![CDATA[
                  <p>Brings up this guide in case you need any information as you begin editing.</p>
                ]]>
              </mx:htmlText>
            </mx:Text>
          </mx:GridItem>
        </mx:GridRow>
        <mx:GridRow width="100%">
          <mx:GridItem>
            <mx:Label text="Save" styleName="helpHeaderText" />
          </mx:GridItem>
          <mx:GridItem width="100%">
            <mx:Text condenseWhite="true" width="100%">
              <mx:htmlText>
                <![CDATA[
                  <p>If you feel confident with your edits, hit save to publish to <a href="http://www.openstreetmap.org">http://www.openstreetmap.org</a>. Most edits take a few hours to show up on OSM and subsequently on [Website].</p>
                ]]>
              </mx:htmlText>
            </mx:Text>
          </mx:GridItem>
        </mx:GridRow>
      </mx:Grid>
    </mx:VBox>
    <mx:VBox label="Adding">
      <mx:Label text="Adding Features" />
      <mx:Text condenseWhite="true" width="100%">
        <mx:htmlText>
          <![CDATA[
            <p><i>Before you being, the first rule you need to know is the use of proprietary data. Data from copyrighted maps or any other proprietary data is strictly prohibited! Copying, tracing or any reproduction of copyrighted work is not allowed! (Source: Copyright - OpenStreetMap Wiki)</i></p>
            <p></p>
            <p>Linear features such as streets, footpaths, railways and building outlines will hereby be referred to as ways.</p>
            <p><b>To create a point (or node)</b>, just drag and drop the appropriate icon from the sidebar onto the map.</p>
            <p><b>To create a way</b>, begin by clicking on the map at its start point, then click at each successive point. Double-click to finish the line or press Enter.</p>
            <p><b>To create a polygon</b>, begin by clicking on the map at its start point, then click at each successive point (similar to creating a way), and finish by double-clicking on the very first point to close the polygon.</p>
            <p>Remember, if you make a mistake, you can always hit the Undo button. Pressing the Esc key will undo all your edits for the current feature.</p>
          ]]>
        </mx:htmlText>
      </mx:Text>
    </mx:VBox>
    <mx:VBox label="Editing (Beg.)">
      <mx:Text>
        <mx:htmlText>
          <![CDATA[
            <h1>Interface Controls</h1>
          ]]>
        </mx:htmlText>
      </mx:Text>
    </mx:VBox>
    <mx:VBox label="Editing (Adv.)">
      <mx:Text>
        <mx:htmlText>
          <![CDATA[
            <h1>Interface Controls</h1>
          ]]>
        </mx:htmlText>
      </mx:Text>
    </mx:VBox>
    <mx:VBox label="Tagging">
      <mx:Text>
        <mx:htmlText>
          <![CDATA[
            <h1>Interface Controls</h1>
          ]]>
        </mx:htmlText>
      </mx:Text>
    </mx:VBox>
  </mx:TabNavigator>

  <mx:ControlBar>
    <mx:Spacer width="100%"/>
    <mx:Button label="Ok" click="PopUpManager.removePopUp(this);"/>
  </mx:ControlBar>

</mx:TitleWindow>